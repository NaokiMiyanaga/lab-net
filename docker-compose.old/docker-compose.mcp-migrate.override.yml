# Generated by lab control (do not commit if temporary)
services:
  r1:
    container_name: r1
  r2:
    container_name: r2
  l2a:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: l2a
    cap_add:
      - NET_ADMIN
    command: ["bash", "-lc", "/init/l2-init.sh || true; sleep infinity"]
    restart: unless-stopped
  l2b:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: l2b
    cap_add:
      - NET_ADMIN
    command: ["bash", "-lc", "/init/l2-init.sh || true; sleep infinity"]
    restart: unless-stopped

networks:
  mgmtnet:
    name: mgmtnet
  labnet:
    name: labnet
  vlan10:
    name: vlan10
    driver: bridge
    ipam:
      config:
        - subnet: 10.0.10.0/24
          gateway: 10.0.10.254
  vlan20:
    name: vlan20
    driver: bridge
    ipam:
      config:
        - subnet: 10.0.20.0/24
          gateway: 10.0.20.254
